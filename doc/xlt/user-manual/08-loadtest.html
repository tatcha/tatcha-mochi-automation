<!DOCTYPE html>
<html>




<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Load and Performance Testing</title>
  <meta name="description" content="Xceptance LoadTest - XLT, Documentation, Manual, Howto, FAQ">

  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,700,400italic,300italic" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:100,300,400,500,700" rel="stylesheet" type="text/css">

  <link href="../css/font-awesome.min.css" rel="stylesheet" media="all"  type="text/css" />
  <link href="../css/lightbox.css" rel="stylesheet" media="all"  type="text/css" />

  <link href="../css/highlightjs/default.css" rel="stylesheet" type="text/css" />
  <link href="../css/highlightjs/mono-blue.css" rel="stylesheet" type="text/css" />

  <link href="../css/xltdoc.css" rel="stylesheet" media="all"  type="text/css" />

  <script type="text/javascript" src="../js/jquery-1.11.1.min.js"></script>
  <script type="text/javascript" src="../js/bootstrap.min.js"></script>
  <script type="text/javascript" src="../js/toc.min.js"></script>
  <script type="text/javascript" src="../js/lightbox.min.js"></script>
  <script type="text/javascript" src="../js/headroom.min.js"></script>

  <!-- <script type="text/javascript" src="../js/jquery.scrollIntoView.min.js"></script -->
  <script type="text/javascript" src="../js/xltdoc.js"></script>

  <script type="text/javascript" src="../js/highlight.pack.js"></script>
</head>


<body data-spy="scroll" data-target="#toc" data-offset="100" class="layout-manual ">

    


<!-- Fixed navbar -->
<nav id="header" class="navbar navbar-default">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="site-title" href="../index.html">
            <img src="../img/XLTDoc-logo-transparent-165x82.png" id="product-logo" alt="XLT Product logo" title="Xceptance LoadTest"/>
        </a>
    </div>

    

    

    

    

    

    <div id="navbar" class="navbar-collapse collapse">
        <!-- Links to external pages -->
        <ul id="navbar-right" class="nav navbar-nav navbar-right navbar-text">
	<li>
		<a href="https://lab.xceptance.de/releases/xlt/latest/apidoc/" target="_blank" title="XLT API Documentation">
			<i class="fa fa-external-link"></i>API</a>
	</li>

    <li>
 		<a href="https://ask.xceptance.de/" target="_blank" title="XLT Community Forum">
 			<i class="fa fa-external-link"></i>Forum</a>
 	</li> 
    
	<li>
		<a href="https://www.xceptance.com/xlt/" target="_blank" title="XLT Website">
			<i class="fa fa-external-link"></i>XLT Home</a>		
	</li>			
</ul>


        <ul id="navbar-left" class="nav navbar-nav navbar-text">
            <li class="inactive"><a href="../getting-started/index.html">Getting Started</a></li>
            <li class="active"><a href="../user-manual/index.html">User Manual</a></li>
            <li class="inactive"><a href="../how-to/index.html">How-To</a></li>
            <li class="inactive"><a href="../release-notes/index.html">Release Notes</a></li>
            <li class="inactive"><a href="../license.html">License</a></li>
        </ul>

    </div><!--/.nav-collapse -->

</nav>




<div id="breadcrumb" class="navbar navbar-default">
  <div>
    <ol class="breadcrumb">
      

      
        <li><a href="../index.html"><i class="fa fa-home"></i>Docs</a></li>
          
            
            <li><a href="../user-manual/index.html">User Manual</a></li>
          
      

      <li class="active">Load and Performance Testing</li>
    </ol>
  </div>
</div>


    
<div id="main" class="main container-fluid">
    <div class="row">
        <div class="hidden-xs col-sm-4 col-md-3 sidenav-col">
            <nav id="sidenav" class="sidenav nav">
                <!-- TOC of all available files/pages in folder  -->
                <ul class="nav sidenav">
                





    
        
            <li>
            
                <a href="../user-manual/01-intro.html">Introduction</a>
                
            </li>
        
    

    

    
        
            <li>
            
                <a href="../user-manual/02-install.html">Installation</a>
                
            </li>
        
    

    

    
        
            <li>
            
                <a href="../user-manual/03-scriptdeveloper.html">Script Developer</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/04-framework.html">XLT Framework</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/05-framework-config.html">XLT Framework Configuration</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/06-datadriven.html">Data-Driven Tests</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/07-posters.html">Demo Application</a>
                
            </li>
        
    

    
        
            
                <!-- Table of content from page headings for the currently loaded file-->
                <li class="current-page">
                    <a class="current-page" href="">Load and Performance Testing</a>
                    <!-- Container for page headings TOC -->
                    <div id="toc" class="sidenav"></div>
                </li>
            
        
    

    
        
            <li>
            
                <a href="../user-manual/09-reports.html">Test Results and Reports</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/10-command-reference.html">Command Reference</a>
                
            </li>
        
    

    
        
            <li>
            
                <a href="../user-manual/11-glossary.html">Glossary</a>
                
            </li>
        
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
    

    

    

    

    

    

    

    


                </ul>
            </nav>
        </div>

        <div id="content" class="col-xs-12 col-sm-8 col-md-9 content-col">
            <h2>Load Models</h2>
<p>A load model defines the attributes you may influence to reach a specific load and performance behavior. <span class="caps">XLT</span> supports two load models:</p>
<ul>
	<li>a user count model and</li>
	<li>an arrival rate model.</li>
</ul>
<p>Both have different characteristics and use cases as illustrated below.</p>
<h3>User Count Model</h3>
<p>The <em>user count model</em> is a static and non-feedback-based load model.</p>
<p>When you use it, the load is determined by the number of concurrent users. When you configure a load of 10 users, for instance, <span class="caps">XLT</span> runs 10 threads repeatedly executing this scenario. At any given time during the test, the target system has to handle 10 concurrent users, no more, no less. The number of executions (transactions) that can be achieved during a certain period of time depends on the time the target system needs to respond.</p>
<p>This model is suited best for:</p>
<ul>
	<li>a simple base line test (single-user test) to assess the base performance of the system under almost no load,</li>
	<li>a real load or performance test to assess the performance under a high but <em>predictable</em> load,</li>
	<li>a test that should be easily repeatable and whose load is not influenced by the system under test.</li>
</ul>
<h3>Arrival Rate Model</h3>
<p>The <em>arrival rate model</em> is a feedback-based load model.</p>
<p>When you use it, the target number of transactions per hour determines the load generation. For an arrival rate of 1,000 transactions per hour, <span class="caps">XLT</span> runs the respective scenario 1,000 times, equally distributed across a period of one hour. <span class="caps">XLT</span> uses as many concurrent users as necessary to fulfill the given arrival rate but no more than specified. Thus, if the time needed for a transaction is very short, only one user might suffice; if a transaction takes longer, the number of concurrent users will rise.</p>
<p>The number of concurrent users is not static and influenced by the response time. If the response time temporarily increases, for example due to a server-side background job, the user count may increase as well. As soon as the response times improve, the number of concurrent users will automatically decrease. This way, the generated load is somewhat unpredictable, at least in terms of concurrency.</p>
<p>The relationship between response times and concurrent users can lead to situations where more users cause more load and thus longer response times. Even more users are now required to run, which eventually causes the server to be overloaded. Even though this behavior appears pretty aggressive, it&#8217;s more realistic. Compare it to a real-world situation where a lot of people are waiting at the check-out counter at the end of a store, but customers are still coming in because they don&#8217;t know that people are waiting already. Or transferred to the online world: when you visit an online presence, you won&#8217;t know the system behaves poorly until you start acting.</p>
<blockquote class="note">
<p class="note">Even though the number of concurrent users is rather a result than an input value for this load model, <span class="caps">XLT</span> requires you to specify a user count. This number is used to impose an upper limit to the number of concurrent users, which may help you to restrict the total load on the system if you want to avoid a total overload resulting from the feedback loop.</p>
</blockquote>
<p>The arrival rate load model is suited best if the load test is meant to prove that a system is in fact able to handle a certain number of transactions per hour. Since this is the primary purpose of load and performance testing, this model is the best choice for most of your test tasks.</p>
<h2>Load Profiles</h2>
<p>While the load model defines what you can modify to achieve a certain load, the load profiles define how you apply these values over a period of time. <span class="caps">XLT</span> supports three different load profiles:</p>
<ul>
	<li>static,</li>
	<li>ramp-up, and</li>
	<li>variable load.</li>
</ul>
<p>See below for their detailed explanation.</p>
<h3>Static Load Profile</h3>
<p>The load parameter remains unchanged during the test. This is the simplest profile. Note that the target systems must be able to handle the full load right from the beginning.</p>
<h3>Ramp-up Load Profile</h3>
<p>The load parameter is steadily increased. This allows the target system to warm up before the full load hits the system, for example to compile and optimize code or to fill caches.</p>
<p>The ramp-up behavior of the load parameter can be controlled by the following settings:</p>
<ul>
	<li>initial value: the load parameter value to start with,</li>
	<li>target value: the final load parameter as soon as the ramp-up period has finished,</li>
	<li>step size: the increment added to the load parameter after each ramp-up step,</li>
	<li>ramp-up period: the length of the ramp-up phase,</li>
	<li>steady period: the period to keep the current parameter value until the next ramp-up step</li>
</ul>
<blockquote class="note">
<p class="note">The steady period and the ramp-up period settings are mutually exclusive.</p>
</blockquote>
<p>Use the steady period if you want to keep the load at a certain level for a defined time, no matter how long the total ramp-up phase will be. Use the ramp-up period if you want to finish the ramp-up process after a certain amount of time, no matter how long the resulting steady phases will be.</p>
<p>If an arrival rate is defined, the ramp-up parameters will be applied to the arrival rate. In case there&#8217;s no such definition, they will be applied to the user count.</p>
<h3>Variable Load Profile</h3>
<p>The variable load profile allows full control and lets you vary the load parameter freely during the test. Thus, the load may not only be constantly increased (compare ramp-up), but it can also be increased and decreased at any time.</p>
<p>The variable profile comes in handy when you want to combine different load levels within one test run, for example a test where phases with regular load alternate with peaks of much higher load. You can also imagine a test that models the load profile of a typical 24 hour day, maybe squeezed into a shorter period of time for a faster test turn-around.</p>
<p>To define how the load parameter should vary over time, you need to specify a load function. You do so by defining a sequence of time/value pairs, each denoting a point in time when the slope of the load function changes. When you connect the dots by a straight line, the final shape of the load function evolves.</p>
<p>Multiple time/value pairs can be specified by separating them using one or more spaces, commas, semi-colons, or tab characters. The time part can be given in all formats supported for <a href="#time_period">time periods</a>.</p>
<blockquote class="note">
<p class="note">Please do not use white-space characters (space or tab) to separate both, the sub-parts of the time part and the various time/value parts, as this leads to ambiguities and misunderstandings. In order to avoid such situations, we strongly recommend to use either commas or semi-colons to separate the time/value parts.</p>
</blockquote>
<p>Imagine the following load function:</p>
<pre class="ini"><code class="ini">0/10, 60m/10, 60m/20, 70m/5</code></pre>
<p>This sequence of time/value pairs defines a function that keeps the load parameter constant at 10 for an hour, doubles it to 20 in an instant, then immediately starts decreasing it to 5 throughout the next ten minutes, and eventually keeps it at 5 for the remaining test.</p>
<pre class="ini"><code class="ini">Load /\
     |
  20 +                         *
     |                         **
     |                         * *
     |                         *  *
  10 +**************************   *
     |                              *
   5 +                               **************************
     |
     +-------------------------+-----+---------------------------&gt;
     0                        60    70                       Time</code></pre>
<p>Note that the time/value pairs must be sorted by their time in ascending order. You can also specify two pairs for a certain time span, which is useful when you want the load parameter to change immediately. If no pair is given for time 0, a pair &#8220;0/1&#8221; will be inserted automatically (implicitly causing a ramp-up behavior). Finally, if the load test runs longer than the last pair, the last known load parameter value will be kept stable.</p>
<h2>Load Factor</h2>
<p>Quite often it is necessary to run tests not only at 100% of target load, but also at lower levels (for dry runs or first tests) or higher levels (for peak load tests). Since recalculating and adjusting the respective load profiles is inconvenient and error-prone, <span class="caps">XLT</span> supports a load factor. When taking advantage of it, you only need to configure the target numbers (100% of load) once and can then easily scale the load up or down as you like:</p>
<pre class="ini"><code class="ini">## scale the load up to 150% for TAuthor and down to 10% for all other scenarios
com.xceptance.xlt.loadtests.TAuthor.loadFactor = 1.5
com.xceptance.xlt.loadtests.default.loadFactor = 0.1</code></pre>
<p>Note that the load factor is applied to both the configured number of users and the arrival rate (if specified).</p>
<p><span class="caps">XLT</span> also supports a variable load factor, a load factor that changes over time. Simply specify a function instead of a simple value:</p>
<pre class="ini"><code class="ini">## scale the load up to 150% after one hour and down to 50% after two hours
com.xceptance.xlt.loadtests.default.loadFactor = 0/1.0, 1h/1.0, 1h/1.5, 2h/1.5, 2h/0.5</code></pre>
<p>Note that a variable load factor cannot be used together with variable users (or arrival rate). Only one of them can be variable.</p>
<h2>Load Test Phases</h2>
<p>The execution of a test scenario during a load test can be divided into different phases: the initial delay, the warm-up period, the measurement period, and the shutdown period.</p>
<p>The <em>initial delay</em> is required only if you don&#8217;t want the test scenario to run right from the beginning of the load test, which is useful if this scenario depends on the results created by another test scenario. The initial delay is optional.</p>
<p>To minimize discrepancies that could be caused by applications and other systems starting up and not yet operating at an optimal level, you can define a <em>warm-up period</em> as the time given before any measurements are taken. The warm-up period is optional. Keep in mind that it creates a period of time during which you don&#8217;t have any insights into your test. It is recommended to omit a warm-up period and modify the report later by specifying a time filter instead. This ensures that you don&#8217;t miss any important information.</p>
<p>The test is measured during the <em>measurement period</em>. As suggested by its name, this is the only time period where measurements are taken. The measurement period is a required setting.</p>
<p>To ensure that a test scenario runs to completion even if the measurement period is over, you can set a <em>shutdown period</em> throughout which the users continue to run (without taking measurements though) and try to orderly finish their current iteration. This comes in handy when things need to be cleaned up at the end of the test scenario. As soon as the last iteration is finished, the users automatically stop. If, however, it&#8217;s still not finished at the end of the shutdown period, the users will be forcibly terminated. The shutdown period is optional, but note that if no shutdown period is defined, the users are terminated right after the measurement period.</p>
<p>The ramp-up period (as defined above as part of the load profile) is commonly put into the warm-up period to ensure the system under test is working at an optimal level before any measurements are taken. That&#8217;s up to you though &#8211; it might as well be interesting to measure the system performance during the ramp-up phase. In that case, a warm-up period mustn&#8217;t be defined.</p>
<p>The following figure displays the phases in relation to the total test time:</p>
<p class="illustration"><a href="../img/user-manual/load-testprofile-configuration.png"><img src="../img/user-manual/load-testprofile-configuration-small.jpg" title="Load Test Profile Configuration" alt="Load Test Profile Configuration" /></a> <span class="caption">Load Test Phases</span></p>
<h2>Load Test Environment</h2>
<p>Typically, a distributed load generation environment is needed to generate enough load. This requires a cluster of test machines. <span class="caps">XLT</span> has to be installed on each of these machines:</p>
<p class="illustration"><a href="../img/user-manual/load-generation-environment.png"><img src="../img/user-manual/load-generation-environment-small.jpg" title="Load generation environment" alt="Load generation environment" /></a> <span class="caption">Load Generation Environment</span></p>
<ul>
	<li><strong>Master controller</strong>: The master controller can be seen as the &#8220;brain&#8221; of the load test environment. It deploys the test suite to all load machines, evenly distributes the load, and starts/stops the load test. A test cluster may only have one master controller.</li>
	<li><strong>Agent controller</strong>: Since the master controller doesn&#8217;t have direct access to the remote load machines, it needs the agent controller as counterpart on these machines. It acts on behalf of the master controller.</li>
	<li><strong>Agent</strong>: The agent is the component that actually executes the test suite against the system under test. It is started and stopped by the agent controller.</li>
</ul>
<h3>Load Test Environment Configuration</h3>
<p>Before you can start the load test, configure both the <span class="caps">XLT</span> load generation environment and your test suite as outlined below.</p>
<p>These property files are used to configure the main components of the <span class="caps">XLT</span> load generation runtime:</p>
<ul>
	<li><code>&lt;XLT&gt;/config/agentcontroller.properties</code> &#8211; Agent Controller Configuration</li>
	<li><code>&lt;XLT&gt;/config/mastercontroller.properties</code> &#8211; Master Controller Configuration</li>
</ul>
<h3>Agent Controller Configuration</h3>
<p>Inside the agent controller configuration file, you can define these properties:</p>
<h4>Port Number</h4>
<p>Port number the agent controller is listening on. Default is 8500. You can pick any free port number, but make sure that the corresponding master controller entry matches that number. Also ensure that the firewall rules in place allow unrestricted communication. The used protocol is <span class="caps">HTTPS</span>. If you want to run more than one agent controller per machine, be aware that all controllers have to use different port numbers.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.agentcontroller.port = &lt;portnumber&gt;</code></pre>
<h4>Key Store Credentials</h4>
<p>The credentials your key store is encrypted with. You only need to change this if your Java key store password has been modified from the default.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.agentcontroller.keystore.password = &lt;password&gt;
com.xceptance.xlt.agentcontroller.keystore.key.password = &lt;password&gt;</code></pre>
<h4>Agent Controller Logging</h4>
<p>The properties below serve to configure the agent controller logging facility. They only affect the agent controller output and don&#8217;t alter the logging of your test code. Most of the time, a modification is not required here.</p>
<pre class="ini"><code class="ini">log4j.rootLogger = info, console, file
log4j.appender.console = org.apache.log4j.ConsoleAppender
log4j.appender.console.layout = org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern = [%d{HH:mm:ss,SSS}] %-5p [%t] - %m%n</code></pre>
<p>Also see <a href="http://logging.apache.org/log4j/1.2/apidocs/index.html">Apache Log4j <span class="caps">API</span> Docs</a> for more information on log4j settings.</p>
<h3>Master Controller Configuration</h3>
<p>Inside the master controller configuration file, you can define these properties:</p>
<h4>Test Suite Location</h4>
<p>To determine the test suite you want to use for the load test, you need to specify its location either as absolute path or relative to your <span class="caps">XLT</span> installation. It is uploaded to the agent controllers from there.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.testSuitePath = &lt;location&gt;</code></pre>
<p>For example:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.testSuitePath = samples/testsuite-posters</code></pre>
<blockquote class="note">
<p class="note">When running the load test on and from Windows, make sure to use the correct encoding for backslashes because the property file format uses backslashes to quote other special characters. Therefore, you have to quote the backslash with an additional backslash to ensure its original meaning, e.g. <code>c:\\test\\mysuite</code>.</p>
</blockquote>
<h4>Update Interval</h4>
<p>Defines how often the master controller prints the status of the currently running load test to the console:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.ui.status.updateInterval = &lt;time in seconds&gt;</code></pre>
<h4>Status Display</h4>
<p>Whether or not to display detailed status information for each simulated test user. If set to <em>false</em>, status information will be aggregated into one line per user type. If you have many test users running, it can be helpful to set it to false because you might get overwhelmed by the amount of information presented otherwise. Being a display property, it doesn&#8217;t change the data collection but the final data presentation.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.ui.status.detailedList = &lt;true/false&gt;</code></pre>
<h4>Agent Controllers</h4>
<p>This property lists the locations of the agent controllers you want the master controller to use:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.agentcontrollers.&lt;id&gt;.url = &lt;url&gt;
com.xceptance.xlt.mastercontroller.agentcontrollers.&lt;id&gt;.weight = &lt;weight&gt;</code></pre>
<p>You can use any name for the <code>&lt;id&gt;</code> part of the property. It is recommended to resort to name and number combinations, such as ac1 for the first agent controller or blade01-02 for the second agent controller on the first blade. Make sure the agent controller IDs differ from each other because otherwise a later entry in the file will overwrite the previous one.</p>
<p>To simultaneously use load machines of different power in a load cluster, you may specify a &#8220;weight&#8221; for each agent controller (defaults to 1 if not set). This value influences the automatic distribution of virtual users across the load machines. A machine with a weight of 3 gets 3 times the load of a machine with a weight of 1.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.mastercontroller.agentcontrollers.ac1.url = https://localhost:8500
com.xceptance.xlt.mastercontroller.agentcontrollers.ac1.weight = 1
com.xceptance.xlt.mastercontroller.agentcontrollers.ac2.url = https://localhost:8501
com.xceptance.xlt.mastercontroller.agentcontrollers.ac2.weight = 3</code></pre>
<h4>Master Controller Logging</h4>
<p>You can set a different logging behavior for the master controller, which helps to solve problems and provides information in case of support inquiries:</p>
<pre class="ini"><code class="ini">log4j.rootLogger = debug, file
log4j.appender.console = org.apache.log4j.ConsoleAppender
log4j.appender.console.layout = org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern = [%d{HH:mm:ss,SSS}] %-5p [%t] - %m%n</code></pre>
<h2>Test Suite Configuration</h2>
<p>The test suite itself is configured independently from the master controller. All properties are read from the <code>&lt;testsuite&gt;/config</code> directory. The sections below outline the settings relevant to load testing. See <a href="05-framework-config.html">Test Suite and Framework Configuration</a> for details on all configuration files and properties.</p>
<h3>Default Configuration &#8211; default.properties</h3>
<h4>Result Directory Location</h4>
<p>Specifies the directory location where you want to store load test results. Normally, there&#8217;s no need to change it.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.result-dir = &lt;directory path&gt;</code></pre>
<h4>Error Behavior</h4>
<p>Specifies the framework behavior in case of an error, that is whether or not the framework should abort a transaction if any of the following occurs:</p>
<ul>
	<li>While loading a page &#8211; If an <span class="caps">HTTP</span> error occurred while loading a page.</li>
	<li>Page resource unavailable &#8211; If an <span class="caps">HTTP</span> error occurred while loading a resource embedded in a page.</li>
	<li>Java script error &#8211; If a JavaScript error occurred.</li>
	<li>Agent termination in case of server errors &#8211; Maximum number of errors allowed before an agent terminates, which helps to automatically stop unobserved, long-running test cases in the event of severe error conditions, such as unavailability of the system under test. The number of errors specified here is the error count per running agent controller.</li>
</ul>
<pre class="ini"><code class="ini">com.xceptance.xlt.stopTestOnHttpErrors.page = &lt;true/false&gt;
com.xceptance.xlt.stopTestOnHttpErrors.embedded = &lt;true/false&gt;
com.xceptance.xlt.stopTestOnJavaScriptErrors = &lt;true/false&gt;
com.xceptance.xlt.maxErrors = &lt;number of errors per agent controller&gt;</code></pre>
<h4>Think Times</h4>
<p>To specify the think time between two subsequent actions or transactions, use the properties below. If a random think time is needed, set the appropriate deviation to a value greater than 0. It specifies the maximum deviation from think time in milliseconds. The respective value is added to or subtracted from the think time using a pseudo-random, uniform distribution.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.thinktime.action = &lt;time in [ms]&gt;
com.xceptance.xlt.thinktime.action.deviation = &lt;time in [ms]&gt;
com.xceptance.xlt.thinktime.transaction = &lt;time in [ms]&gt;
com.xceptance.xlt.thinktime.transaction.deviation = &lt;time in [ms]&gt;</code></pre>
<p>The think time configuration might look like this, for instance:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.thinktime.action = 100
com.xceptance.xlt.thinktime.action.deviation = 50
com.xceptance.xlt.thinktime.transaction = 0
com.xceptance.xlt.thinktime.transaction.deviation = 0</code></pre>
<p>This sets the action think times between 50 and 150ms and no transaction think time whatsoever.</p>
<blockquote class="note">
<p class="note">Note that the deviation has to be smaller than the specified base think time.</p>
</blockquote>
<h3>Test Project Configuration &#8211; project.properties</h3>
<p>To configure your test project, edit the file <code>project.properties</code>.</p>
<h4>Test Properties File</h4>
<p><span class="caps">XLT</span> permits to prepare and use multiple <code>test.properties</code> files for easy maintenance of test setups. This facilitates switching between test setups and prevents configuration errors. This property doesn&#8217;t allow the use of a path-specific file name. The test definition files reside in the same directory as the <code>project.properties</code> file.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.testPropertiesFile = &lt;filename&gt;.properties</code></pre>
<h4>Test Class Mapping</h4>
<p>Specifies which test IDs should be used by <span class="caps">XLT</span> and, more specifically, which test ID uses which test case implementation. That&#8217;s why you have to specify the fully qualified class names of your tests here. Note that you can map the same class to multiple load test names if needed. This is extremely useful when you want to run the same test case in different configurations.</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.&lt;name&gt;.class = &lt;fully qualified class name&gt;</code></pre>
<p>A test class mapping might look like this:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TVisitor.class = com.xceptance.xlt.samples.tests.TVisitor
com.xceptance.xlt.loadtests.TJSVisitor.class = com.xceptance.xlt.samples.tests.TJSVisitor</code></pre>
<h4>Test Class-Specific Settings</h4>
<p>You can define project-wide settings that are test case-specific but not test run-specific by using the following syntax:</p>
<pre class="ini"><code class="ini">&lt;fully-qualified class name&gt;.&lt;property-name&gt; = &lt;value&gt;</code></pre>
<p>For example:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.samples.tests.shop-url = http://localhost:8080/posters/
com.xceptance.xlt.samples.tests.TAuthor.username = username
com.xceptance.xlt.samples.tests.TAuthor.password = password
com.xceptance.xlt.samples.tests.webdriver.TAuthor.write-count = 2</code></pre>
<h3>Load Test Profile Configuration &#8211; test.properties</h3>
<p>Test run-specific settings &#8211; You can also configure an (optional) property file containing the settings specific to a certain load test run. You may define more than one test property file, such as <code>test-target-load.properties</code> and <code>test-2x-target-load.properties</code>. This way, many configurations can be defined and prepared in advance and used as needed. You switch between these files by changing the property <code>com.xceptance.xlt.testPropertiesFile</code> in the <code>project.properties</code> file.</p>
<p>Load test profile configurations are done inside your test property file, which is named <code>test.properties</code> by default. Using the syntax below, you can define test ID, the number of virtual users, and all other load test-specific settings of tests meant to run in parallel agents:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.&lt;testID&gt;.&lt;setting&gt; = &lt;value&gt;</code></pre>
<p>For <code>&lt;testID&gt;</code>, use any appropriate name. The following table lists all supported values for <code>&lt;setting&gt;</code>; required settings are displayed in bold face:</p>
<table>
	<tr>
		<th>Setting </th>
		<th>Description </th>
	</tr>
	<tr>
		<td><strong>class</strong></td>
		<td>Fully qualified class name of the test case (<span class="caps">REQUIRED</span> if not specified in project.properties)</td>
	</tr>
	<tr>
		<td><strong>users</strong></td>
		<td>Number of threads that run the test in parallel (<span class="caps">REQUIRED</span>), may be a load function</td>
	</tr>
	<tr>
		<td>iterations</td>
		<td>Number of iterations per thread</td>
	</tr>
	<tr>
		<td>arrivalRate</td>
		<td>Number of transactions per hour, may be a load function</td>
	</tr>
	<tr>
		<td>initialDelay</td>
		<td>Number of seconds to wait at the beginning</td>
	</tr>
	<tr>
		<td>warmUpPeriod</td>
		<td>Number of seconds to run without performing measurements</td>
	</tr>
	<tr>
		<td><strong>measurementPeriod</strong></td>
		<td>Number of seconds to perform measurements (<span class="caps">REQUIRED</span>)</td>
	</tr>
	<tr>
		<td>shutdownPeriod</td>
		<td>Number of seconds to continue without performing measurements</td>
	</tr>
	<tr>
		<td>rampUpPeriod</td>
		<td>Number of seconds to steadily increase the configured load parameter</td>
	</tr>
	<tr>
		<td>rampUpStepSize</td>
		<td>Value to step-wise increase the configured load parameter during ramp-up</td>
	</tr>
	<tr>
		<td>rampUpSteadyPeriod</td>
		<td>Number of seconds between ramp-up steps</td>
	</tr>
	<tr>
		<td>rampUpInitialValue</td>
		<td>Initial load when starting ramp-up</td>
	</tr>
	<tr>
		<td>loadFactor</td>
		<td>A factor to be applied to users (and arrivalRate if defined). Use this value to scale the load up/down.</td>
	</tr>
</table>
<p>A sample load profile configuration is given below:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests = TAuthor
com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TAuthor.iterations = 100
com.xceptance.xlt.loadtests.TAuthor.arrivalRate = 3600
com.xceptance.xlt.loadtests.TAuthor.initialDelay = 0
com.xceptance.xlt.loadtests.TAuthor.warmUpPeriod = 30s
com.xceptance.xlt.loadtests.TAuthor.measurementPeriod = 10m 0s</code></pre>
<p id="time_period">All time period values can be specified in one of the following formats (without quotes):</p>
<ul>
	<li>total number of seconds: &#8216;1234s&#8217; or &#8216;1234&#8217;</li>
	<li>natural style: &#8216;0h 12m 0s&#8217;, &#8216;0h 12m&#8217;, &#8216;12m 0s&#8217;, or &#8216;12m&#8217;</li>
	<li>digit style: &#8216;1:23&#8217;, &#8216;01:23&#8217;, &#8216;0:1:23&#8217;, or &#8216;0:01:23&#8217;</li>
</ul>
<p>If you want to run several test cases simultaneously, specify the test case names as value for the property <code>com.xceptance.xlt.loadtests</code> in form of a space-separated list:</p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests = TAuthor TVisitor TCrawler
com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TVisitor.users = 3
com.xceptance.xlt.loadtests.TCrawler.users = 4</code></pre>
<h4>Sample Configurations</h4>
<p><em>User Count Model With Constant Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 5</code></pre>
<p>Runs exactly 5 users right from the beginning.</p>
<p><em>User Count Model With Ramp-Up Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 50
com.xceptance.xlt.loadtests.TAuthor.rampUpInitialValue = 10
com.xceptance.xlt.loadtests.TAuthor.rampUpPeriod = 5m</code></pre>
<p>Runs exactly 50 users, but ramps up the user count from 10 to 50 over a period of 5 minutes.</p>
<p><em>User Count Model With Variable Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 0/5, 1h/50, 2h/50, 2h/100, 3h/20</code></pre>
<p>Runs the TAuthor scenario with a variable number of concurrent users (5&nbsp;&rarr;&nbsp;50&nbsp;&rarr;&nbsp;100&nbsp;&rarr;&nbsp;20).</p>
<p><em>Arrival Rate Model With Constant Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TAuthor.arrivalRate = 100</code></pre>
<p>Runs the TAuthor scenario exactly 100 times per hour with at most 5 concurrent users.</p>
<p><em>Arrival Rate Model With Ramp-Up Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TAuthor.arrivalRate = 100
com.xceptance.xlt.loadtests.TAuthor.rampUpInitialValue = 50
com.xceptance.xlt.loadtests.TAuthor.rampUpSteadyPeriod = 1m
com.xceptance.xlt.loadtests.TAuthor.rampUpStepSize = 10</code></pre>
<p>Runs the TAuthor scenario exactly 100 times per hour with at most 5 concurrent users, but starts with an arrival rate of 50 per hour and increases it by 10 every minute until the target level of 100 is reached.</p>
<p><em>Arrival Rate Model With Variable Load Profile</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TAuthor.arrivalRate = 0/50, 1h/100, 2h/200, 3h/150</code></pre>
<p>Runs the TAuthor scenario with a variable arrival rate (50&nbsp;&rarr;&nbsp;100&nbsp;&rarr;&nbsp;200&nbsp;&rarr;&nbsp;150) and with at most 5 concurrent users.</p>
<p><em>Arrival Rate Model With Ramp-Up Load Profile and Load Factor</em></p>
<pre class="ini"><code class="ini">com.xceptance.xlt.loadtests.TAuthor.users = 5
com.xceptance.xlt.loadtests.TAuthor.arrivalRate = 100
com.xceptance.xlt.loadtests.TAuthor.rampUpPeriod = 5m
com.xceptance.xlt.loadtests.TAuthor.loadFactor = 2.4</code></pre>
<p>Runs the TAuthor scenario exactly 240 times per hour with at most 12 concurrent users, but ramps up the arrival rate from 1/h to 240/h over a period of 5 minutes.</p>
<h3>Other Settings</h3>
<p>In case you want to modify the behavior of the logging facility of the load test agents, the test suite configuration directory contains a file named <code>log4j.properties</code> that can be changed to satisfy your needs.</p>
<p>To launch the <span class="caps">JVM</span> that runs the agent with additional parameters, specify them in the <code>jvmargs.cfg</code> file.</p>
<h2>Run the Load Test</h2>
<p>Running load tests consists of two steps:</p>
<ol>
	<li>running the agent controllers and</li>
	<li>running the master controller.</li>
</ol>
<h3>Running the Agent Controllers</h3>
<p>To start the agent controllers, open a command line window/console and type the following command sequence:</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./agentcontroller.sh</code></pre>
<blockquote class="note">
<p class="note">Windows users have to use the appropriate <code>.cmd</code> file located in the same directory.</p>
</blockquote>
<p>The agent controller starts up and listens on the specified port. The output looks like this:</p>
<pre class="dos"><code class="dos">- Using "C:\Users\AppData\Local\Temp\vfs_cache" as temporary files store.
- Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog
- jetty-6.1.19
- Started SslSocketConnector@0.0.0.0:8500</code></pre>
<h3>Running the Master Controller</h3>
<blockquote class="note">
<p class="note">Before starting the master controller, make sure all agent controllers are running on all respective load test machines. The master controller cannot be started if the agent controllers aren&#8217;t running. Also check that the test suite has been compiled successfully to avoid errors when uploading it.</p>
</blockquote>
<p>You can start the master controller in one of the following modes:</p>
<ul>
	<li><strong>Interactive mode</strong>: typical sequence of steps to be executed to run a load test</li>
	<li><strong>Auto mode</strong>: load test is started automatically, without user interaction</li>
	<li><strong>Embedded mode</strong>: running a load test where master controller and agent controller run inside the same <span class="caps">JVM</span></li>
</ul>
<h4>Interactive Mode</h4>
<p>To start the master controller in interactive mode, use this command line:</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./mastercontroller.sh</code></pre>
<blockquote class="note">
<p class="note">Windows users have to use the appropriate <code>.cmd</code> file located in the same directory.</p>
</blockquote>
<p>A screen appears that displays the command line menu as below:</p>
<pre class="bash"><code class="bash">Xceptance LoadTest 4.2.0
Copyright (c) 2005-2012 Xceptance Software Technologies GmbH. All rights reserved.
Basic License (5 virtual users). This license does not expire.</code>


<code class="bash">(u) Upload test suite
(s) Start agents
(a) Abort agents
(r) Show agent status
(d) Download test results
(c) Create load test report
(q) Quit
=&gt;</code></pre>
<p>The following options are offered:</p>
<ul>
	<li><strong>Upload agent files (u)</strong>: Choose this option to upload your test suite (code, data, and configuration) to all configured agent controllers. This is required at the very beginning and each time you&#8217;ve modified your test suite. <span class="caps">XLT</span> will only upload files that have been changed to speed up testing.</li>
</ul>
<ul>
	<li><strong>Start agents (s)</strong>: All agent controllers will receive a start command to spin off an agent executing its configured tests. This effectively starts the load test.</li>
</ul>
<ul>
	<li><strong>Abort agents (a)</strong>: Choose this option to immediately terminate any running load agent.</li>
</ul>
<ul>
	<li><strong>Show agent report (r)</strong>: The current status of the load agents can be monitored by choosing this option. Depending on the configuration, either a short summary (per test case) or a detailed list (per test user) is shown. In either case you get information about:
	<ul>
		<li>test case name on which you are running the load test,</li>
		<li>how many users are running,</li>
		<li>how often a test case has been executed so far,</li>
		<li>how long it took on average to execute the test case,</li>
		<li>how many events and errors occurred, and</li>
		<li>the overall progress.</li>
	</ul></li>
</ul>
<ul>
	<li><strong>Download test results (d)</strong>: Each load agent writes log files and runtime data files. Choose this option to download this data from all configured agent controllers. After entering the <em>d</em> command, a menu appears where you can choose the amount of data to download. Press 1, 2 or 3 here. The files are saved to a newly created directory at the location specified in <code>default.properties</code>. By default, the result directory is set to <code>&lt;XLT&gt;/results</code>. The name of the new directory is given by the current date and time, for example: <code>20110501-161718</code>.</li>
</ul>
<ul>
	<li><strong>Create report (c)</strong>: Generates a load test report of the last downloaded test results.</li>
</ul>
<ul>
	<li><strong>Quit (q)</strong>: Shuts down the master controller and closes its connections to the agent controllers. Note that this will <em>not</em> stop any running load test. The load agents continue to execute the load test until they have finished. To regain control, reconnect to the test cluster by restarting the master controller.</li>
</ul>
<p>As soon as you&#8217;ve chosen an option (by pressing the associated key followed by <kbd>Enter</kbd>), the appropriate action is executed. Afterwards, you immediately return to the menu (unless you&#8217;ve chosen to quit, of course).</p>
<p>A typical usage scenario for a load test is reflected by the order of the master controller menu items and might look like this:</p>
<ol>
	<li>Upload the test suite (using (u) shortcut)</li>
	<li>Start the agents (using (s) shortcut)</li>
	<li>Check the agent status regularly (using (r) shortcut)</li>
	<li>Download the test results as soon as the test has finished (using (d) shortcut)</li>
	<li>Create a report of the downloaded results (using (c) shortcut)</li>
	<li>Quit the master controller (using (q) shortcut)</li>
</ol>
<h4>Auto Mode</h4>
<p>As outlined in the previous sections, there is a typical sequence of steps to be executed when running a load test. It may quickly become tedious and error-prone to type the necessary keys over and over again. To avoid this repetition, <span class="caps">XLT</span> provides another operating mode: the <em>auto</em> mode. In this mode, all the steps mentioned above are executed automatically, without any user interaction. To start <span class="caps">XLT</span> in this operating mode, use the following command line:</p>
<p>Unix-based systems:</p>
<pre class="bash"><code class="bash">cd &lt;XLT&gt;/bin
./mastercontroller.sh -auto</code></pre>
<p>Windows:</p>
<pre class="dos"><code class="dos">cd &lt;XLT&gt;\bin
mastercontroller.cmd -auto</code></pre>
<p>If the test suite files were uploaded and the load agents started successfully, <span class="caps">XLT</span> automatically refreshes the agent status on a regular basis. As soon as the test has finished, the test results are downloaded and <span class="caps">XLT</span> quits.</p>
<p>If the command is followed by the option <code>-report</code>, a load test and performance report will be automatically generated after the test has finished and the results have been downloaded.</p>
<pre class="dos"><code class="dos">cd &lt;XLT&gt;\bin
mastercontroller.cmd -auto -report</code></pre>
<p>See below for what the screen displays in <em>auto</em> mode:</p>
<pre class="bash"><code class="bash">Xceptance LoadTest 4.2.0
Copyright (c) 2005-2012 Xceptance Software Technologies GmbH. All rights reserved.
Basic License (5 virtual users). This license does not expire.</code>

<code class="bash">Uploading test suite ...
    0% ... 10% ... 20% ... 30% ... 40% ... 50% ... 60% ... 70% ... 80% ... 100% - OK</code>

<code class="bash">Starting agents ...
     0% ... 100% - OK</code>

<code class="bash">Test Case       State         Running Users   Iterations   Last Time   Avg. Time   Total Time      Events   Errors   Progress
-------------   --------   ----------------   ----------   ---------   ---------   ----------   ---------   ------   --------
TAddToCart_lw   Running        10 of     10            0      0,00 s      0,00 s      0:00:00           0        0         0%
TAddToCart      Running        10 of     10            0      0,00 s      0,00 s      0:00:00           0        0         0%
TCreateUser     Running        10 of     10            1      0,72 s      0,72 s      0:00:01           0        0         0%</code>

<code class="bash">Test Case       State         Running Users   Iterations   Last Time   Avg. Time   Total Time      Events   Errors   Progress
-------------   --------   ----------------   ----------   ---------   ---------   ----------   ---------   ------   --------
TAddToCart_lw   Running        10 of     10           72      0,67 s      0,77 s      0:00:06           0        2         5%
TAddToCart      Running        10 of     10           55      0,70 s      1,03 s      0:00:06           0        0         5%
TCreateUser     Running        10 of     10           83      0,95 s      0,67 s      0:00:06           0       17         5%</code>

<code class="bash">.
.
.</code>

<code class="bash">Test Case       State         Running Users   Iterations   Last Time   Avg. Time   Total Time      Events   Errors   Progress
-------------   --------   ----------------   ----------   ---------   ---------   ----------   ---------   ------   --------
TAddToCart_lw   Running        10 of     10        1.472      0,69 s      0,66 s      0:01:37          17       65        96%
TAddToCart      Running        10 of     10        1.412      0,66 s      0,68 s      0:01:37           0        0        96%
TCreateUser     Running        10 of     10        1.525      0,91 s      0,63 s      0:01:37           0      316        96%</code>

<code class="bash">Test Case       State         Running Users   Iterations   Last Time   Avg. Time   Total Time      Events   Errors   Progress
-------------   --------   ----------------   ----------   ---------   ---------   ----------   ---------   ------   --------
TAddToCart_lw   Finished        0 of     10        1.533      1,16 s      0,65 s      0:01:41          17       65       100%
TAddToCart      Finished        0 of     10        1.476      1,17 s      0,68 s      0:01:40           0        0       100%
TCreateUser     Finished        0 of     10        1.590      0,79 s      0,63 s      0:01:41           0      325       100%</code>

<code class="bash">Downloading test results ... (Please be patient, this might take a while)
    0% ... 30% ... 60% ... 100% - OK</code></pre>
<p>To abort the test prematurely, press <kbd>Ctrl</kbd>+<kbd>C</kbd> to terminate the master controller. This terminates all running agents as well and triggers the download of all test results generated so far. Note that it&#8217;s therefore impossible to disconnect the master controller from the test cluster while keeping the load test running.</p>
<blockquote class="note">
<p class="note">For long-running load tests, it is recommended to run the test without the <code>-auto</code> option because this allows a disconnect from the test and inhibits accidental test termination.</p>
</blockquote>
<h4>Embedded Mode</h4>
<p>Both interactive mode and auto mode can be combined with the command line option <code>-embedded</code>. It starts the master controller together with an internal agent controller.</p>
<p>This is useful if you want to run load tests without a distributed load test environment, but run just one agent controller together with the master controller on the same machine. There&#8217;s no need to manually start an agent controller before you run the load test, which facilitates the handling of automated load tests started from within a build process. This option is also recommended when playing around with the <a href="07-posters.html">posters demo</a> for training purposes because it simplifies the process of running a load test.</p>
<blockquote class="note">
<p class="note">When you use the <code>-embedded</code> option, the local agent controller settings will override the set of agent controllers configured in <code>mastercontroller.properies</code>.</p>
</blockquote>
            <div id="footer">
	<p>Copyright © 2017 by <a href="http://www.xceptance.com/">Xceptance Software Technologies</a>. All rights reserved.</p>
</div>


        </div>
    </div>
</div>

<!-- Generate the part of the TOC that contains the headings of the currently displayed page -->
<!-- createToc (selectedHeadlines, classesTarget, classes )-->

<script>createToc('h1,h2,h3', '#toc > ul', '#sidenav nav sidenav')</script>


</body>

</html>
